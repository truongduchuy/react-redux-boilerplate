{"version":3,"sources":["components/ErrorBoundary/index.js","components/Layout/index.js","utils/callApi.js","utils/redux.js","components/Spinner/index.js","hooks/useDebounce.js","components/Articles/reducer.js","components/Articles/ArticleItem/index.js","components/Articles/ArticleItem/SearchInput/index.js","components/Articles/PaginationBox/index.js","components/Articles/index.js","components/ArticleDetails/reducer.js","components/ArticleDetails/index.js","routes.js","store.js","App.js","index.js"],"names":["ErrorBoundary","props","state","hasError","this","setState","children","React","Component","Layout","className","callApi","method","url","data","config","headers","Accept","timeout","axios","interceptors","response","use","error","Promise","reject","then","createAction","type","payload","createReducer","initialState","actionHandlers","action","hasOwnProperty","Spinner","role","useDebounce","callback","milisecondsToDelay","timeOutId","useEffect","setTimeout","clearTimeout","getArticles","watchFetchArticles","FETCH_ARTICLES_REQUEST","FETCH_ARTICLES_RESPONSE","FETCH_ARTICLES_ERROR","page","searchTerm","query","call","process","put","takeLatest","articleReducer","articles","isFetchingArticles","articleSagas","fork","ArticleItem","article","id","image","title","content","history","useHistory","src","alt","href","onClick","event","preventDefault","push","SearchInput","value","onChange","xmlns","width","height","fill","viewBox","d","placeholder","PaginationBox","onPageIndexChanged","pageIndexs","currentPageIndex","hasNext","hasPrev","maxPage","handleChange","pageIndex","isClickedNumberButton","isDisablePrev","useMemo","isDisableNext","activeNumberClass","disabledNumberClass","aria-label","aria-hidden","map","Articles","dispatch","useDispatch","useState","setPage","setSearchTerm","articleState","useSelector","setPageIndexs","totalRecords","Math","ceil","isFirstRender","useRef","fetchArticlesCallback","useCallback","current","target","newPageIndex","pi","getArticleDetails","watchFetchArticleDetails","FETCH_ARTICLE_DETAILS_REQUEST","FETCH_ARTICLE_DETAILS_RESPONSE","FETCH_ARTICLE_DETAILS_ERROR","articleDetailsReducer","articleDetails","isFetchingArticleDetails","articleDetailsSagas","ArticleDetails","articleDetailsState","useParams","createdAt","dayjs","fromNow","Routes","exact","path","component","to","rootReducer","combineReducers","rootSaga","all","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","extend","relativeTime","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0d6c2187.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  componentDidCatch() {\r\n    this.setState({ hasError: true });\r\n  }\r\n\r\n  render() {\r\n    const { hasError } = this.state;\r\n    const { children } = this.props;\r\n\r\n    if (hasError) {\r\n      return <p>Something went wrong!</p>;\r\n    }\r\n\r\n    return children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import React from 'react';\r\nimport './index.scss';\r\n\r\nfunction Layout({ children }) {\r\n  return (\r\n    <div className=\"layout container card my-3\">\r\n      <div className=\"card-body\">{children}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Layout;\r\n","import axios from 'axios';\r\n\r\nconst defaultTimeout = 10000;\r\n\r\nconst callApi = (method, url, data = {}) => {\r\n  const config = {\r\n    method,\r\n    url,\r\n    headers: {\r\n      Accept: 'application/json',\r\n      'Content-Type': 'application/json',\r\n    },\r\n    timeout: data.timeout || defaultTimeout,\r\n    data,\r\n  };\r\n\r\n  axios.interceptors.response.use(\r\n    response => response,\r\n    error => {\r\n      Promise.reject(error.response);\r\n    },\r\n  );\r\n\r\n  return axios(config).then((response, error) => {\r\n    if (error) return error;\r\n\r\n    return response.data;\r\n  });\r\n};\r\n\r\nexport default callApi;\r\n","export function createAction(type, payload) {\r\n  return { type, payload };\r\n}\r\n\r\nexport function createReducer(initialState, actionHandlers) {\r\n  return function reducer(state = initialState, action) {\r\n    if (actionHandlers.hasOwnProperty(action.type)) {\r\n      return actionHandlers[action.type](state, action);\r\n    }\r\n    return state;\r\n  };\r\n}\r\n","import React from 'react';\r\n\r\nfunction Spinner() {\r\n  return (\r\n    <div className=\"spinner-border text-primary\" role=\"status\">\r\n      <span className=\"sr-only\">Loading...</span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Spinner;\r\n","import { useEffect } from 'react';\r\n\r\nfunction useDebounce(callback, milisecondsToDelay) {\r\n  let timeOutId;\r\n\r\n  return useEffect(() => {\r\n    timeOutId = setTimeout(() => {\r\n      callback();\r\n    }, milisecondsToDelay);\r\n\r\n    return () => {\r\n      clearTimeout(timeOutId);\r\n    };\r\n  }, [callback]);\r\n}\r\n\r\nexport default useDebounce;\r\n","import { put, call, takeLatest, fork } from 'redux-saga/effects';\r\nimport { callApi, createReducer, createAction } from 'utils';\r\n\r\nexport const FETCH_ARTICLES_REQUEST = 'FETCH_ARTICLES_REQUEST';\r\nexport const FETCH_ARTICLES_RESPONSE = 'FETCH_ARTICLES_RESPONSE';\r\n\r\nexport const FETCH_ARTICLES_ERROR = 'FETCH_ARTICLES_ERROR';\r\nexport const PAGE_LIMIT = 5;\r\n\r\nfunction* getArticles(action) {\r\n  const { page, searchTerm } = action.payload;\r\n  let query = `?limit=${PAGE_LIMIT}`;\r\n  if (page) {\r\n    query += `&page=${page}`;\r\n  }\r\n\r\n  if (searchTerm) {\r\n    query += `&search=${searchTerm}`;\r\n  }\r\n\r\n  try {\r\n    const response = yield call(callApi, 'GET', `${process.env.REACT_APP_API_URL}/blogs${query}`);\r\n    yield put(createAction(FETCH_ARTICLES_RESPONSE, response));\r\n  } catch (error) {\r\n    yield put(createAction(FETCH_ARTICLES_ERROR));\r\n  }\r\n}\r\n\r\nfunction* watchFetchArticles() {\r\n  yield takeLatest(FETCH_ARTICLES_REQUEST, getArticles);\r\n}\r\n\r\nconst initialArticleState = {\r\n  articles: [],\r\n  isFetchingArticles: true,\r\n};\r\n\r\nconst articleHandlers = {\r\n  [FETCH_ARTICLES_ERROR]: state => ({ ...state }),\r\n  [FETCH_ARTICLES_RESPONSE]: (state, action) => ({ ...state, articles: action.payload, isFetchingArticles: false }),\r\n  [FETCH_ARTICLES_REQUEST]: state => ({ ...state, isFetchingArticles: true }),\r\n};\r\n\r\nexport const articleReducer = createReducer(initialArticleState, articleHandlers);\r\nexport const articleSagas = [fork(watchFetchArticles)];\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport './index.scss';\r\n\r\nfunction ArticleItem({ article }) {\r\n  const { id, image, title, content } = article;\r\n\r\n  const history = useHistory();\r\n\r\n  const goToDetails = event => {\r\n    event.preventDefault();\r\n    history.push(`/articles/${id}`);\r\n  };\r\n\r\n  return (\r\n    <li className=\"media mb-3\">\r\n      <img src={image} className=\"mr-3 mt-1\" alt=\"\" />\r\n      <div className=\"media-body\">\r\n        <a className=\"title\" href=\"##\" onClick={goToDetails}>\r\n          <h6 className=\"mt-0 mb-1\">{title}</h6>\r\n        </a>\r\n        <div>{content}</div>\r\n      </div>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ArticleItem;\r\n","import React from 'react';\r\n\r\nfunction SearchInput({ value, onChange }) {\r\n  return (\r\n    <div className=\"input-group\">\r\n      <div className=\"input-group-prepend\">\r\n        <span className=\"input-group-text\">\r\n          <svg\r\n            xmlns=\"http://www.w3.org/2000/svg\"\r\n            width=\"16\"\r\n            height=\"16\"\r\n            fill=\"currentColor\"\r\n            className=\"bi bi-search\"\r\n            viewBox=\"0 0 16 16\"\r\n          >\r\n            <path d=\"M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z\" />\r\n          </svg>\r\n        </span>\r\n      </div>\r\n      <input type=\"text\" value={value} className=\"form-control\" placeholder=\"Search\" onChange={onChange} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchInput;\r\n","import React, { useMemo } from 'react';\r\n\r\nfunction PaginationBox({ onPageIndexChanged, pageIndexs, currentPageIndex, hasNext, hasPrev, maxPage }) {\r\n  const handleChange = (event, pageIndex, isClickedNumberButton = false) => {\r\n    if (pageIndex === currentPageIndex) return;\r\n\r\n    event.preventDefault();\r\n    onPageIndexChanged(pageIndex, isClickedNumberButton);\r\n  };\r\n\r\n  const handleNext = event => {\r\n    handleChange(event, currentPageIndex + 1);\r\n  };\r\n\r\n  const handlePrev = event => {\r\n    handleChange(event, currentPageIndex - 1);\r\n  };\r\n\r\n  const isDisablePrev = useMemo(() => !hasPrev || pageIndexs[0] === 1, [hasPrev]);\r\n  const isDisableNext = useMemo(() => !hasNext || pageIndexs[2] === maxPage, [hasPrev]);\r\n\r\n  const activeNumberClass = pageIndex => (pageIndex === currentPageIndex ? 'active' : '');\r\n  const disabledNumberClass = pageIndex => (pageIndex > maxPage ? 'disabled' : '');\r\n\r\n  return (\r\n    <nav aria-label=\"navigation\">\r\n      <ul className=\"pagination\">\r\n        <li className={`page-item ${isDisablePrev && 'disabled'}`}>\r\n          <a className=\"page-link\" href=\"##\" onClick={handlePrev}>\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </a>\r\n        </li>\r\n        {pageIndexs.map(pageIndex => (\r\n          <li\r\n            className={`page-item ${activeNumberClass(pageIndex)}\r\n             ${disabledNumberClass(pageIndex)}`}\r\n            key={pageIndex}\r\n          >\r\n            <a className=\"page-link\" href=\"##\" onClick={event => handleChange(event, pageIndex, true)}>\r\n              {pageIndex}\r\n            </a>\r\n          </li>\r\n        ))}\r\n        <li className={`page-item ${isDisableNext && 'disabled'}`}>\r\n          <a className=\"page-link\" href=\"##\" onClick={handleNext}>\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  );\r\n}\r\n\r\nexport default PaginationBox;\r\n","import React, { useCallback, useRef, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { createAction } from 'utils';\r\nimport Spinner from 'components/Spinner';\r\nimport useDebounce from 'hooks/useDebounce';\r\nimport { FETCH_ARTICLES_REQUEST, PAGE_LIMIT } from './reducer';\r\nimport './index.scss';\r\nimport ArticleItem from './ArticleItem';\r\nimport SearchInput from './ArticleItem/SearchInput';\r\nimport PaginationBox from './PaginationBox';\r\n\r\nconst MILISECONDS_TO_DELAY = 500;\r\n\r\nfunction Articles() {\r\n  const dispatch = useDispatch();\r\n  const [page, setPage] = useState(1);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const articleState = useSelector(state => state.articleState);\r\n\r\n  const [pageIndexs, setPageIndexs] = useState([1, 2, 3]);\r\n\r\n  const { articles, isFetchingArticles, totalRecords } = articleState;\r\n\r\n  // this is hard code. Cuz, API doesn't return totalRecords\r\n  const maxPage = Math.ceil((totalRecords || 53) / PAGE_LIMIT);\r\n\r\n  // this is to prevent delay for first render\r\n  const isFirstRender = useRef(true);\r\n\r\n  const fetchArticlesCallback = useCallback(() => {\r\n    if (isFirstRender.current) {\r\n      isFirstRender.current = false;\r\n    }\r\n\r\n    dispatch(createAction(FETCH_ARTICLES_REQUEST, { page, searchTerm }));\r\n  }, [dispatch, page, searchTerm]);\r\n\r\n  useDebounce(fetchArticlesCallback, isFirstRender.current ? 0 : MILISECONDS_TO_DELAY);\r\n\r\n  const handleSearchChanged = event => {\r\n    const { value } = event.target;\r\n    setSearchTerm(value);\r\n    setPage(1);\r\n    setPageIndexs([1, 2, 3]);\r\n  };\r\n\r\n  const handlePageChanged = (newPageIndex, isClickedNumberButton) => {\r\n    setPage(newPageIndex);\r\n\r\n    if (!isClickedNumberButton) {\r\n      if (newPageIndex > page) {\r\n        setPageIndexs(pageIndexs.map(pi => pi + 1));\r\n      } else {\r\n        setPageIndexs(pageIndexs.map(pi => pi - 1));\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"d-flex flex-column\">\r\n      <h4 className=\"mb-4\">Articles</h4>\r\n      <div className=\"mb-4\">\r\n        <SearchInput value={searchTerm} onChange={handleSearchChanged} />\r\n      </div>\r\n\r\n      {isFetchingArticles ? (\r\n        <div className=\"text-center\">\r\n          <Spinner />\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <ul className=\"list-unstyled\">\r\n            {articles.map(article => (\r\n              <ArticleItem key={article.id} article={article} />\r\n            ))}\r\n          </ul>\r\n          <div className=\"d-flex justify-content-end\">\r\n            <PaginationBox\r\n              onPageIndexChanged={handlePageChanged}\r\n              currentPageIndex={page}\r\n              hasNext={page < maxPage}\r\n              hasPrev={page > 1}\r\n              maxPage={maxPage}\r\n              pageIndexs={pageIndexs}\r\n            />\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Articles;\r\n","import { put, call, takeLatest, fork } from 'redux-saga/effects';\r\nimport { callApi, createReducer, createAction } from 'utils';\r\n\r\nexport const FETCH_ARTICLE_DETAILS_REQUEST = 'FETCH_ARTICLE_DETAILS_REQUEST';\r\nexport const FETCH_ARTICLE_DETAILS_RESPONSE = 'FETCH_ARTICLE_DETAILS_RESPONSE';\r\n\r\nexport const FETCH_ARTICLE_DETAILS_ERROR = 'FETCH_ARTICLE_DETAILS_ERROR';\r\n\r\nfunction* getArticleDetails(action) {\r\n  try {\r\n    const response = yield call(callApi, 'GET', `${process.env.REACT_APP_API_URL}/blogs/${action.payload}`);\r\n    yield put(createAction(FETCH_ARTICLE_DETAILS_RESPONSE, response));\r\n  } catch (error) {\r\n    yield put(createAction(FETCH_ARTICLE_DETAILS_ERROR));\r\n  }\r\n}\r\n\r\nfunction* watchFetchArticleDetails() {\r\n  yield takeLatest(FETCH_ARTICLE_DETAILS_REQUEST, getArticleDetails);\r\n}\r\n\r\nconst initialArticleDetailsState = {\r\n  articleDetails: {},\r\n  isFetchingArticleDetails: true,\r\n};\r\n\r\nconst articleDetailsHandlers = {\r\n  [FETCH_ARTICLE_DETAILS_ERROR]: state => state,\r\n  [FETCH_ARTICLE_DETAILS_REQUEST]: state => ({\r\n    ...state,\r\n    isFetchingArticleDetails: true,\r\n  }),\r\n  [FETCH_ARTICLE_DETAILS_RESPONSE]: (state, action) => ({\r\n    ...state,\r\n    articleDetails: action.payload,\r\n    isFetchingArticleDetails: false,\r\n  }),\r\n};\r\n\r\nexport const articleDetailsReducer = createReducer(initialArticleDetailsState, articleDetailsHandlers);\r\nexport const articleDetailsSagas = [fork(watchFetchArticleDetails)];\r\n","import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { createAction } from 'utils';\r\nimport Spinner from 'components/Spinner';\r\nimport * as dayjs from 'dayjs';\r\nimport { ChevronLeft } from 'react-bootstrap-icons';\r\nimport { FETCH_ARTICLE_DETAILS_REQUEST } from './reducer';\r\nimport './index.scss';\r\n\r\nfunction ArticleDetails() {\r\n  const articleDetailsState = useSelector(state => state.articleDetailsState);\r\n  const { articleDetails, isFetchingArticleDetails } = articleDetailsState;\r\n\r\n  const { id } = useParams();\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    dispatch(createAction(FETCH_ARTICLE_DETAILS_REQUEST, id));\r\n  }, [dispatch, id]);\r\n\r\n  const handleBack = () => {\r\n    history.push('/articles');\r\n  };\r\n\r\n  return isFetchingArticleDetails ? (\r\n    <div className=\"text-center\">\r\n      <Spinner />\r\n    </div>\r\n  ) : (\r\n    <>\r\n      <div className=\"content\">\r\n        <ChevronLeft onClick={handleBack} className=\"content__icon\" />\r\n        <div className=\"content__title\">\r\n          <h4>{articleDetails.title}</h4>\r\n          {articleDetails.createdAt && <div>{dayjs(articleDetails.createdAt).fromNow()}</div>}\r\n        </div>\r\n      </div>\r\n      <img src={articleDetails.image} alt=\"\" className=\"w-100\" />\r\n      <div>{articleDetails.content}</div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default ArticleDetails;\r\n","import Articles from 'components/Articles';\nimport ArticleDetails from 'components/ArticleDetails';\nimport React from 'react';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\n\nfunction Routes() {\n  return (\n    <BrowserRouter>\n      <Switch>\n        <Route exact path=\"/articles\" component={Articles} />\n        <Route exact path=\"/articles/:id\" component={ArticleDetails} />\n        <Redirect to=\"/articles\" />\n      </Switch>\n    </BrowserRouter>\n  );\n}\n\nexport default Routes;\n","import { combineReducers, createStore, applyMiddleware } from 'redux';\nimport { all } from 'redux-saga/effects';\nimport createSagaMiddleware from 'redux-saga';\nimport { articleReducer, articleSagas } from 'components/Articles/reducer';\nimport { articleDetailsReducer, articleDetailsSagas } from 'components/ArticleDetails/reducer';\n\nconst rootReducer = combineReducers({\n  articleState: articleReducer,\n  articleDetailsState: articleDetailsReducer,\n});\n\nexport const rootSaga = function* rootSaga() {\n  yield all([...articleSagas, ...articleDetailsSagas]);\n};\n\nconst sagaMiddleware = createSagaMiddleware();\nconst store = createStore(rootReducer, applyMiddleware(sagaMiddleware));\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import ErrorBoundary from 'components/ErrorBoundary';\nimport Layout from 'components/Layout';\nimport React from 'react';\nimport { Provider } from 'react-redux';\nimport Routes from 'routes';\nimport store from 'store';\nimport './App.css';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport dayjs from 'dayjs';\n\ndayjs.extend(relativeTime);\n\nfunction App() {\n  return (\n    <Provider store={store}>\n      <ErrorBoundary>\n        <Layout>\n          <Routes />\n        </Layout>\n      </ErrorBoundary>\n    </Provider>\n  );\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport React from 'react';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}